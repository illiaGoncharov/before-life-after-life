{"version":3,"file":"static/js/884.cfc7ba8b.chunk.js","mappings":"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","sources":["components/Gallery/Gallery.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Gallery.css\";\n\nconst imageFolders = [\"andrey\", \"anna\", \"clara\", \"dexter\", \"jeff\"];\nconst images = imageFolders.flatMap((folder) =>\n  Array.from({ length: 45 }, (_, i) => {\n    const fileName = `${folder}_${String(i + 1).padStart(2, \"0\")}.jpg`;\n    return `${process.env.PUBLIC_URL}/images/${folder}/${fileName}`;\n  })\n);\n\nconst MAX_DELAY = 500; // Максимальная задержка появления изображения в мс (скорректировано для ускорения загрузки)\n\n// Символы для мобильной версии (как в макете)\nconst MOBILE_SYMBOLS = ['¶', '•', 'ª', '∞', '¢', '°', '#', '€', '¡', '©', '§', '£', '¥', '®', '™', '±', '×', '÷', '≈', '≠', '≤', '≥', '∑', '∏', '∆', '∇', '∂', '∫', '√', '∴', '∵', '→', '←', '↑', '↓', '↔'];\n\nexport default function Gallery({ onAllHidden }) {\n  const [loadedImages, setLoadedImages] = useState([]);\n  const [hiddenImages, setHiddenImages] = useState(new Set()); // Используем Set для хранения скрытых изображений\n  const [isMobile, setIsMobile] = useState(false);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const [mobileSymbols, setMobileSymbols] = useState([]);\n\n  // Определение мобильного устройства\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    \n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // Инициализация символов для мобильной версии\n  useEffect(() => {\n    if (isMobile) {\n      // Генерируем достаточно символов для одной линии\n      const initialSymbols = Array.from({ length: 25 }, () => \n        MOBILE_SYMBOLS[Math.floor(Math.random() * MOBILE_SYMBOLS.length)]\n      );\n      setMobileSymbols(initialSymbols);\n    }\n  }, [isMobile]);\n\n  // Медленная смена фотографий для мобильной версии\n  useEffect(() => {\n    if (!isMobile || loadedImages.length === 0) return;\n\n    const interval = setInterval(() => {\n      setCurrentImageIndex((prev) => {\n        const nextIndex = (prev + 1) % loadedImages.length;\n        return nextIndex;\n      });\n    }, 3000); // Медленная смена каждые 3 секунды\n\n    return () => clearInterval(interval);\n  }, [isMobile, loadedImages.length]);\n\n  // Хаотичное изменение символов для мобильной версии\n  useEffect(() => {\n    if (!isMobile) return;\n\n    const interval = setInterval(() => {\n      setMobileSymbols((prev) => {\n        const newSymbols = [...prev];\n        // Меняем случайные символы\n        const symbolsToChange = Math.floor(Math.random() * 5) + 3; // 3-7 символов за раз\n        for (let i = 0; i < symbolsToChange; i++) {\n          const randomIndex = Math.floor(Math.random() * newSymbols.length);\n          newSymbols[randomIndex] = MOBILE_SYMBOLS[Math.floor(Math.random() * MOBILE_SYMBOLS.length)];\n        }\n        return newSymbols;\n      });\n    }, 800); // Частое изменение символов\n\n    return () => clearInterval(interval);\n  }, [isMobile]);\n\n  useEffect(() => {\n    images.forEach((src) => {\n      const img = new Image();\n      img.src = src;\n      img.onload = () => {\n        const delay = Math.random() * MAX_DELAY;\n        setTimeout(() => {\n          setLoadedImages((prev) => [...prev, src]);\n        }, delay);\n      };\n      img.onerror = (error) => {\n        console.error(`Error loading image: ${src}`, error);\n      };\n    });\n  }, []);\n\n  // Если пользователь скрыл все изображения, переходим к следующему компоненту\n  useEffect(() => {\n    if (!isMobile && hiddenImages.size === images.length && onAllHidden) {\n      onAllHidden();\n    }\n  }, [hiddenImages, onAllHidden, isMobile]);\n\n  // Функция для скрытия изображения при наведении (только для десктопа)\n  const handleMouseEnter = (src) => {\n    if (!isMobile) {\n      setHiddenImages((prev) => new Set(prev).add(src));\n    }\n  };\n\n  // Мобильная версия\n  if (isMobile) {\n    const currentImage = loadedImages[currentImageIndex] || null;\n    \n    return (\n      <div className=\"gallery-container gallery-mobile\">\n        {currentImage && (\n          <div className=\"gallery-mobile-image-container\">\n            <img\n              src={currentImage}\n              alt=\"Gallery\"\n              className=\"gallery-mobile-image\"\n            />\n          </div>\n        )}\n        <div className=\"gallery-mobile-symbols\">\n          {mobileSymbols.map((symbol, index) => (\n            <span key={index} className=\"gallery-mobile-symbol\">\n              {symbol}\n            </span>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  // Десктоп версия\n  return (\n    <div className=\"gallery-container\">\n      <div className=\"gallery\">\n        {images.map((src, index) => (\n          <div\n            key={index}\n            className={`image-container ${\n              hiddenImages.has(src) ? \"hidden\" : \"\"\n            }`}\n            onMouseEnter={() => handleMouseEnter(src)}\n          >\n            <img\n              src={src}\n              alt={`${index + 1}`}\n              loading=\"lazy\"\n              className={loadedImages.includes(src) ? \"loaded\" : \"\"}\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":["images","flatMap","folder","Array","from","length","_","i","fileName","String","padStart","MAX_DELAY","MOBILE_SYMBOLS","Gallery","_ref","onAllHidden","loadedImages","setLoadedImages","useState","hiddenImages","setHiddenImages","Set","isMobile","setIsMobile","currentImageIndex","setCurrentImageIndex","mobileSymbols","setMobileSymbols","useEffect","checkMobile","window","innerWidth","addEventListener","removeEventListener","initialSymbols","Math","floor","random","interval","setInterval","prev","clearInterval","newSymbols","symbolsToChange","forEach","src","img","Image","onload","delay","setTimeout","onerror","error","console","size","currentImage","_jsxs","className","children","_jsx","alt","map","symbol","index","has","onMouseEnter","add","handleMouseEnter","loading","includes"],"sourceRoot":""}