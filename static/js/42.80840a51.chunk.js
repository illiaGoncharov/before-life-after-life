"use strict";(self.webpackChunkbefore_life_after_life=self.webpackChunkbefore_life_after_life||[]).push([[42],{42:(e,r,t)=>{t.r(r),t.d(r,{default:()=>o});var n=t(43),a=t(579);const i=["afterlife","religion","cemetery","funeral","death","dying pet","euthanasia","dying person","elderly person","bullet in blood","tampon in blood","women military parade","woman at war","person at war","city at war","city celebration","city","office worker","artist","influencer","unemployed person","homeless person","poor person","poor politician","rich politician","people at protest","propaganda","apolitical person","immigrant","person with substance use disorder","person with mental health condition","sick person","healthy person","unsafe sex","sex","love between women","love between men","love","bullied teen","puberty","unintended child","birth","family at home","home","before life"];const o=function(){const[e,r]=(0,n.useState)(window.innerHeight),[t,o]=(0,n.useState)(null),[s,c]=(0,n.useState)(!1),l=(0,n.useRef)(null),u=(0,n.useRef)(null),d=(0,n.useRef)(null);(0,n.useEffect)((()=>{l.current=new Audio,l.current.addEventListener("ended",(()=>{console.log("Audio playback completed")})),navigator.mediaDevices.getUserMedia({video:!0}).then((e=>{u.current&&(u.current.srcObject=e)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043a\u0430\u043c\u0435\u0440\u0435",e),c(!0)}));const e=()=>{r((e=>e-.3)),d.current=requestAnimationFrame(e)};return d.current=requestAnimationFrame(e),()=>{d.current&&cancelAnimationFrame(d.current),l.current&&(l.current.pause(),l.current.src="")}}),[]),(0,n.useEffect)((()=>{const r=window.innerHeight/2,n=Math.floor((r-e)/70);n!==t&&n>=0&&n<i.length&&(o(n),p(n))}),[e]);const p=e=>{if(!i[e]||!l.current)return;const r=`/before-life-after-life/audio/audio_${(e+1).toString().padStart(2,"0")}.mp3`;l.current.paused||l.current.pause(),l.current.src=r,l.current.play().catch((e=>console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f",e)))};return(0,a.jsxs)("div",{className:"text-container",children:[s&&(0,a.jsx)("div",{className:"camera-error",children:(0,a.jsx)("span",{children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043a\u0430\u043c\u0435\u0440\u0435"})}),(0,a.jsx)("video",{ref:u,autoPlay:!0,playsInline:!0,muted:!0,className:"video-bg"}),(0,a.jsx)("div",{className:"text-wrapper",style:{transform:`translateY(${-e}px)`},children:i.map(((e,r)=>(0,a.jsx)("div",{className:"text-step",children:e},r)))})]})}}}]);
//# sourceMappingURL=42.80840a51.chunk.js.map